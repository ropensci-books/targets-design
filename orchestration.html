<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Orchestration | The targets R Package Developer Documentation</title>
  <meta name="description" content="In-depth discussion of the major functionality of targets." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Orchestration | The targets R Package Developer Documentation" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://wlandau.github.io/targets-design" />
  <meta property="og:image" content="https://wlandau.github.io/targets-design/man/figures/logo.png" />
  <meta property="og:description" content="In-depth discussion of the major functionality of targets." />
  <meta name="github-repo" content="wlandau/targets-design" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Orchestration | The targets R Package Developer Documentation" />
  
  <meta name="twitter:description" content="In-depth discussion of the major functionality of targets." />
  <meta name="twitter:image" content="https://wlandau.github.io/targets-design/man/figures/logo.png" />

<meta name="author" content="Will Landau" />
<meta name="author" content="Copyright Eli Lilly and Company" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="man/figures/apple-touch-icon.png" />
  <link rel="shortcut icon" href="man/figures/favicon.ico" type="image/x-icon" />
<link rel="prev" href="composition.html"/>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150843595-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150843595-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#design-1"><i class="fa fa-check"></i><b>1.1</b> Design</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data and metadata management</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#file-system"><i class="fa fa-check"></i><b>2.1</b> File system</a></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#targets"><i class="fa fa-check"></i><b>2.2</b> Targets</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#progress"><i class="fa fa-check"></i><b>2.3</b> Progress</a></li>
<li class="chapter" data-level="2.4" data-path="data.html"><a href="data.html#metadata"><i class="fa fa-check"></i><b>2.4</b> Metadata</a></li>
<li class="chapter" data-level="2.5" data-path="data.html"><a href="data.html#skipping-up-to-date-targets"><i class="fa fa-check"></i><b>2.5</b> Skipping up-to-date targets</a></li>
<li class="chapter" data-level="2.6" data-path="data.html"><a href="data.html#databases"><i class="fa fa-check"></i><b>2.6</b> Databases</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="classes.html"><a href="classes.html"><i class="fa fa-check"></i><b>3</b> Major internal classes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="classes.html"><a href="classes.html#algorithm-class"><i class="fa fa-check"></i><b>3.1</b> Algorithm class</a></li>
<li class="chapter" data-level="3.2" data-path="classes.html"><a href="classes.html#pipeline-class"><i class="fa fa-check"></i><b>3.2</b> Pipeline class</a></li>
<li class="chapter" data-level="3.3" data-path="classes.html"><a href="classes.html#scheduler-class"><i class="fa fa-check"></i><b>3.3</b> Scheduler class</a></li>
<li class="chapter" data-level="3.4" data-path="classes.html"><a href="classes.html#graph-class"><i class="fa fa-check"></i><b>3.4</b> Graph class</a></li>
<li class="chapter" data-level="3.5" data-path="classes.html"><a href="classes.html#progress-class"><i class="fa fa-check"></i><b>3.5</b> Progress class</a></li>
<li class="chapter" data-level="3.6" data-path="classes.html"><a href="classes.html#queue-class"><i class="fa fa-check"></i><b>3.6</b> Queue class</a></li>
<li class="chapter" data-level="3.7" data-path="classes.html"><a href="classes.html#counter-class"><i class="fa fa-check"></i><b>3.7</b> Counter class</a></li>
<li class="chapter" data-level="3.8" data-path="classes.html"><a href="classes.html#target-class"><i class="fa fa-check"></i><b>3.8</b> Target class</a></li>
<li class="chapter" data-level="3.9" data-path="classes.html"><a href="classes.html#stem-class"><i class="fa fa-check"></i><b>3.9</b> Stem class</a></li>
<li class="chapter" data-level="3.10" data-path="classes.html"><a href="classes.html#bud-class"><i class="fa fa-check"></i><b>3.10</b> Bud class</a></li>
<li class="chapter" data-level="3.11" data-path="classes.html"><a href="classes.html#pattern-class"><i class="fa fa-check"></i><b>3.11</b> Pattern class</a></li>
<li class="chapter" data-level="3.12" data-path="classes.html"><a href="classes.html#branch-class"><i class="fa fa-check"></i><b>3.12</b> Branch class</a></li>
<li class="chapter" data-level="3.13" data-path="classes.html"><a href="classes.html#builder-class"><i class="fa fa-check"></i><b>3.13</b> Builder class</a></li>
<li class="chapter" data-level="3.14" data-path="classes.html"><a href="classes.html#junction-class"><i class="fa fa-check"></i><b>3.14</b> Junction class</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="composition.html"><a href="composition.html"><i class="fa fa-check"></i><b>4</b> The composition of target objects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="composition.html"><a href="composition.html#overall-structure"><i class="fa fa-check"></i><b>4.1</b> Overall structure</a></li>
<li class="chapter" data-level="4.2" data-path="composition.html"><a href="composition.html#classes-1"><i class="fa fa-check"></i><b>4.2</b> Classes</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="composition.html"><a href="composition.html#command-class"><i class="fa fa-check"></i><b>4.2.1</b> Command class</a></li>
<li class="chapter" data-level="4.2.2" data-path="composition.html"><a href="composition.html#settings-class"><i class="fa fa-check"></i><b>4.2.2</b> Settings class</a></li>
<li class="chapter" data-level="4.2.3" data-path="composition.html"><a href="composition.html#cache-class"><i class="fa fa-check"></i><b>4.2.3</b> Cache class</a></li>
<li class="chapter" data-level="4.2.4" data-path="composition.html"><a href="composition.html#memory-class"><i class="fa fa-check"></i><b>4.2.4</b> Memory class</a></li>
<li class="chapter" data-level="4.2.5" data-path="composition.html"><a href="composition.html#value-class"><i class="fa fa-check"></i><b>4.2.5</b> Value class</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="composition.html"><a href="composition.html#metrics-class"><i class="fa fa-check"></i><b>4.3</b> Metrics class</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="composition.html"><a href="composition.html#store-class"><i class="fa fa-check"></i><b>4.3.1</b> Store class</a></li>
<li class="chapter" data-level="4.3.2" data-path="composition.html"><a href="composition.html#file-class"><i class="fa fa-check"></i><b>4.3.2</b> File class</a></li>
<li class="chapter" data-level="4.3.3" data-path="composition.html"><a href="composition.html#subpipeline"><i class="fa fa-check"></i><b>4.3.3</b> Subpipeline</a></li>
<li class="chapter" data-level="4.3.4" data-path="composition.html"><a href="composition.html#junction-class-1"><i class="fa fa-check"></i><b>4.3.4</b> Junction class</a></li>
<li class="chapter" data-level="4.3.5" data-path="composition.html"><a href="composition.html#pedigree-class"><i class="fa fa-check"></i><b>4.3.5</b> Pedigree class</a></li>
<li class="chapter" data-level="4.3.6" data-path="composition.html"><a href="composition.html#cue-class"><i class="fa fa-check"></i><b>4.3.6</b> Cue class</a></li>
<li class="chapter" data-level="4.3.7" data-path="composition.html"><a href="composition.html#patternview-class"><i class="fa fa-check"></i><b>4.3.7</b> Patternview class</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="orchestration.html"><a href="orchestration.html"><i class="fa fa-check"></i><b>5</b> Orchestration</a>
<ul>
<li class="chapter" data-level="5.1" data-path="orchestration.html"><a href="orchestration.html#decrement-the-ranks-of-downstream-targets-in-the-priority-queue."><i class="fa fa-check"></i><b>5.1</b> Decrement the ranks of downstream targets in the priority queue.</a></li>
<li class="chapter" data-level="5.2" data-path="orchestration.html"><a href="orchestration.html#insert-new-targets-dynamically."><i class="fa fa-check"></i><b>5.2</b> Insert new targets dynamically.</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="orchestration.html"><a href="orchestration.html#insert-buds"><i class="fa fa-check"></i><b>5.2.1</b> Insert buds</a></li>
<li class="chapter" data-level="5.2.2" data-path="orchestration.html"><a href="orchestration.html#insert-branches"><i class="fa fa-check"></i><b>5.2.2</b> Insert branches</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The targets R Package Developer Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="orchestration" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Orchestration</h1>
<p>The <code>targets</code> package runs the correct targets in the correct order (orchestration) and creates new targets dynamically at runtime (branching). This vignette describes the underlying package structure and mental model that gives <code>targets</code> its flexibility and parallel efficiency.</p>
<p>To orchestrate targets, we iterate on the following loop while there is still at least one target in the queue.</p>
<ol style="list-style-type: decimal">
<li>If the target at the head of the queue is not ready to build (rank &gt; 0) sleep for a short time.</li>
<li>If the target at the head of the queue is ready to build (rank = 0) do the following:
<ol style="list-style-type: lower-alpha">
<li>Dequeue the target.</li>
<li>Run the target’s <code>prepare()</code> method.</li>
<li>Run the target’s <code>run()</code> method.</li>
<li>Run the target’s <code>conclude()</code> method to updates the whole scheduler.</li>
<li>Unload transient targets from memory.</li>
</ol></li>
</ol>
<p>The usual behavior of <code>prepare()</code>, <code>run()</code>, and <code>conclude()</code> is as follows.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Responsibilities</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>prepare()</code></td>
<td>Announce the target to the console, load dependencies into memory, and register the target as running.</td>
</tr>
<tr class="even">
<td><code>run()</code></td>
<td>Run the R command and create an object to contain the results.</td>
</tr>
<tr class="odd">
<td><code>conclude()</code></td>
<td>Store the value and update the scheduler, create new buds and branches as needed, and register the target as built.</td>
</tr>
</tbody>
</table>
<p>The specific behavior of <code>prepare()</code>, <code>run()</code>, and <code>conclude()</code> depends on the sub-class of the target. For example, <code>run()</code> does nontrivial work in builders (stems and branches) but does nothing in all other classes. The <code>conclude()</code> method is where stems and patterns update the scheduler and spawn new buds and branches dynamically. Two of the most important responsibilities of <code>conclude()</code> are</p>
<ol style="list-style-type: decimal">
<li>Decrement the ranks of downstream targets in the priority queue.</li>
<li>Insert new targets dynamically.</li>
</ol>
<p>For patterns, <code>conclude()</code> is called twice: once to spawn branches, and then again when all the branches are done.</p>
<div id="decrement-the-ranks-of-downstream-targets-in-the-priority-queue." class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Decrement the ranks of downstream targets in the priority queue.</h2>
<p>The <code>conclude()</code> method decrements ranks in the priority queue to signal that downstream neighbors are one step closer to being ready to build. Most targets decrement all their downstream neighbors, but a pattern only decrement the neighbors that branch over it. This behavior for patterns is key because it allows future patterns to quickly define new branches before the current ones even start running, which contributes to parallel efficiency.</p>
</div>
<div id="insert-new-targets-dynamically." class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Insert new targets dynamically.</h2>
<p><code>targets</code> creates new targets dynamically when stems and patterns conclude. To illustrate, let us use the following example pipeline.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="orchestration.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># _targets.R</span></span>
<span id="cb2-2"><a href="orchestration.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb2-3"><a href="orchestration.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;functions.R&quot;</span>) <span class="co"># Defines all the functions below prefixed with &quot;user_&quot;.</span></span>
<span id="cb2-4"><a href="orchestration.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb2-5"><a href="orchestration.html#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(data1, <span class="fu">user_data1</span>()),</span>
<span id="cb2-6"><a href="orchestration.html#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(data2, <span class="fu">list</span>(<span class="fu">user_data2_slice1</span>(), <span class="fu">user_data2_slice2</span>())),</span>
<span id="cb2-7"><a href="orchestration.html#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(analysis, <span class="fu">user_analyze</span>(data2), <span class="at">pattern =</span> <span class="fu">map</span>(data2)),</span>
<span id="cb2-8"><a href="orchestration.html#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(validation, <span class="fu">user_validate</span>(analysis), <span class="at">pattern =</span> <span class="fu">map</span>(analysis)),</span>
<span id="cb2-9"><a href="orchestration.html#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tar_target</span>(summary, <span class="fu">user_summarize</span>(validation)) <span class="co"># Does not map over validation.</span></span>
<span id="cb2-10"><a href="orchestration.html#cb2-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>In prose:</p>
<ul>
<li>The <code>data</code> and <code>data2</code> targets are starting datasets.</li>
<li>The <code>analysis</code> target maps over the rows of <code>data2</code> and performs a statistical analysis on each row. All analyses use the entirety of <code>data1</code>.</li>
<li>The <code>validation</code> target maps over the analyses to check each one for correctness.</li>
<li>The <code>summary</code> target aggregates and summarizes all the analyses and validations together.</li>
</ul>
<p>Graphical representation:</p>
<p><img src="man/figures/orchestration-start.png" /></p>
<div id="insert-buds" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Insert buds</h3>
<p>Upon conclusion, <code>data2</code> creates buds to help its downstream neighbor <code>analysis</code> map over it later on. <code>data1</code> creates no buds because no pattern branches over it.</p>
<p><img src="man/figures/orchestration-data2.png" /></p>
<p>To insert the buds, we:</p>
<ol style="list-style-type: decimal">
<li>Create a new junction with the names of the buds to create.</li>
<li>Create new bud objects, each containing a slice of <code>data2</code>’s return value.</li>
<li>Insert the buds into the pipeline object.</li>
</ol>
<p>We do not need to update the scheduler because the parent stem of the buds already completed. In other words, buds are born built. They exist as separate data objects in memory, but they have no dedicated storage.</p>
</div>
<div id="insert-branches" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Insert branches</h3>
<p>With the buds in place, the <code>analysis</code> pattern can now create branches that depend on each of the respective buds of <code>data2</code>. After they run, the branches exist as separate data objects in memory and storage. The full aggregated <code>analysis</code> pattern is not needed, so it is never created.</p>
<p><img src="man/figures/orchestration-analysis.png" /></p>
<p>As soon as these first branches are created, we can create the branches for <code>validation</code>. It does not matter if <code>analysis_5c77a278</code> and <code>analysis_3439bce3</code> are both still queued. In addition, as soon as <code>analysis_5c77a278</code> is built, <code>validation_0f7f2822</code> can start building regardless of whether <code>analysis_3439bce3</code> is complete. This is a major source of parallel efficiency.</p>
<p>Notice that we never draw edges from the <code>validation_*</code> branches to <code>summary</code>. This is because <code>summary</code> does not map over <code>validation</code>, so it automatically takes in all of <code>validation</code> as an entire aggregated pattern. In the <code>prepare()</code> method of <code>summary</code>, <code>validation</code> is constructed from its individual branches kept in memory while it is needed. Unlike the <code>validation_*</code> branches, the aggregated <code>validation</code> pattern does not persist in storage.</p>
<p><img src="man/figures/orchestration-validation.png" /></p>
<p>The fine details of the branching algorithm are as follows.</p>
<ol style="list-style-type: decimal">
<li>First we create a junction to describe the branches we will create based on the user-supplied <code>pattern</code> argument to <code>tar_target()</code>.</li>
<li>Create and insert those new branches into the pipeline.</li>
<li>Draw graph edges to connect the branches to their individual upstream dependencies (buds or branches).</li>
<li>Insert graph edges from the new branches to their parent pattern. Some targets may use the entire pattern in aggregate instead of iterating over individual branches, and this step makes sure all the branches are available for aggregation before a downstream target needs to use the aggregate.</li>
<li>Push the branches onto the priority queue. The rank for each branch is the number of upstream dependencies that still need to be checked or built. 1. Increment the priority queue ranks of all downstream non-branching targets by the number of new branches just created minus 1. This ensures all the branches complete before any target calls upon the entire aggregate of the pattern.</li>
<li>Register the branches as queued in the scheduler.</li>
<li>Push the pattern itself back onto the queue, where the priority queue rank now equals the number of branches minus a constant between 0 and 1. (The subtracted constant just ensures the pattern gets cleaned up as soon as possible.) This step ensures we revisit the pattern after all the branches are done. At that moment, we decrement the priority queue rank of every downstream target that depends on the entire aggregated pattern (as opposed to just a single branch). This behavior drives implicit aggregation, and it ensures we do not need a special <code>combine()</code> pattern directive to accompany <code>map()</code> and <code>cross()</code>.</li>
</ol>

</div>
</div>
</div>
<div style = "background: #1C356D; color: white; padding: 10px 10px 10px 25px; font-size: 1em; width: 100%;">
  Copyright Eli Lilly and Company
</div>
            </section>

          </div>
        </div>
      </div>
<a href="composition.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
